<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>sew&so</title>
    <link href="https://fonts.googleapis.com/css?family=Barlow+Condensed:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
    <link rel="stylesheet" href="./css/master.css">
  </head>

  <body class="flexCol none" ng-app='app' ng-controller='ctrl' ng-cloak>

    <!--       SIGN IN AND SIGN UP PAGE     -->
    <div class="signUpPage flexRow">
      <div class="signFormPage flexCol">
        <div class="signSelect flexRow">
          <div class="signUpBlock flexRow pointer" ng-class='signUp' ng-click='signUpButton()'>
            <p>SIGN UP</p>
          </div>
          <div class="signInBlock flexRow pointer" ng-class='signIn' ng-click='signInButton()'>
            <p>SIGN IN</p>
          </div>
        </div>
        <div class="signFormMessage">
          <p>Thanks For Registering! Try Signing in</p>
        </div>
        <div class="formLiner flexCol">
          <form class="signUpForm flexCol" action="/register" method="post" ng-if="currentSignPage === 'signup'">
            <input class="signUpFirstname" type="text" name="firstname" value="" placeholder="firstname">
            <input class="signUpLastname" type="text" name="lastname" value="" placeholder="lastname">
            <input class="signUpUsername" type="text" name="username" value="" placeholder="username">
            <input class="signUpPassword" type="password" name="password" value="" placeholder="password">
            <input class="signUpConfirmPassword" type="password" name="confirmpassword" value="" placeholder="confirm password">
            <div data="signUpSubmit" class="submit flexRow pointer" ng-click='signUpSubmit()'>
              <p>{{submitBtnText}}</p>
            </div>
          </form>
          <form class="signInForm flexCol" action="/login" method="post" ng-if="currentSignPage === 'signin'">
            <div class="divLiner"></div>
            <input class="signInUsername" type="text" name="username" value="" placeholder="username">
            <input class="signInPassword" type="password" name="password" value="" placeholder="password">
            <div data="signUpSubmit" class="submit flexRow pointer" ng-click='signInSubmit()'>
              <p>{{submitBtnText}}</p>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- ng-click='logIn(1)'><p>SEW & SO
    ng-click='logIn(2)'><p>BRANDI PAGE
    ng-click="signUpButton('onLandingPage')"><p>SIGN UP
    ng-click="signInButton('onLandingPage')"><p>SIGN IN -->

    <!--        LANDING PAGE         -->
    <div class="landingPage flexRow" ng-if="currentPage === 0" ng-click='hideSignInPage()'>
      <div id="background" class="flexRow">
        <div id="rightSideB" class="flexCol">
          <div id="rightSideBTop" class="flexRow">
            <div id="rightSideBTopRight" class="flexCol">
              <div id="rightSideBTopRightTop"></div>
              <div id="rightSideBTopRightBottom"></div>
            </div>
            <div id="rightSideBTopLeft" class="flexCol">
              <div id="rightSideBTopLeftTop"></div>
              <div id="rightSideBTopLeftBottom"></div>
            </div>
          </div>
          <div id="rightSideBBottom" class="flexRow">
            <div id="rightSideBBottomLeft" class=""></div>
            <div id="rightSideBBottomRight" class=""></div>
          </div>
        </div>
        <div id="leftSideB" class="flexRow">
          <div id="leftSideBLeft"></div>
          <div id="leftSideBRight" class="flexCol">
            <div id="leftSideBRightTop" class="flexRow">
              <div id="leftSideBRightTopLeft" class="flexCol">
                <div id="leftSideBRightTopLeftTop"></div>
                <div id="leftSideBRightTopLeftBottom"></div>
              </div>
              <div id="leftSideBRightTopRight" class="flexCol">
                <div id="leftSideBRightTopRightTop"></div>
                <div id="leftSideBRightTopRightBottom"></div>
              </div>
            </div>
            <div id="leftSideBRightBottom"></div>
          </div>
        </div>
      </div>

      <div id="homePageHolder" class="flexRow">
        <div id="homePage">
          <div id="homePageTop" class="flexRow">
            <div id="homePageTopLeft" class="flexCol">
              <div id="homePageTopLeftTopBar"></div>
              <div id="homePageTopLeftBottom" class="flexCol">
                <div class="homePageIcons"><img src="./images/bagIcon.png" alt=""></div>
                <div class="homePageIcons"><img src="./images/bedIcon.png" alt=""></div>
                <div class="homePageIcons"><img src="./images/shoeIcon.png" alt=""></div>
              </div>
            </div>
            <div id="homePageTopRight" class="pointer" ng-click='logIn(1)'>
              <div id="homePageTopRightTopBar"></div>
              <div id="homePageTopRightBottom" class="flexRow">
                <p>Sew & So</p>
              </div>
            </div>
          </div>
          <div id="homePageBottom" class="flexRow">
            <div id="homePageBottomLeft" class="flexCol">
              <p class="firstp">SEWING LESSONS</p>
              <p class="lastp">CROCHE LESSON</p>
            </div>
            <div id="homePageBottomRight" class="pointer">
              <div id="previousBox">

              </div>
            </div>
          </div>
        </div>
      </div>

    </div>

    <!--      MAIN PAGE       -->
    <div class="container" ng-if="mainPageIndexes.includes(currentPage)">

      <!--        NAVIGATOIN       -->
      <div class="navigationBar flexRow">
        <div class="navHolder flexRow">
          <p data={{$index}} ng-repeat="nav in navOptions track by $index" class="navOptions pointer" ng-click='navigate($event)'>{{nav}}</p>
        </div>
        <div class="imgHolder flexRow">
          <img class="customize customizeDirector pointer" src="{{colors[currentCompany].customIcon}}" alt="" ng-mouseover="customMouseOver()" ng-mouseleave="customMouseLeave()">
          <p  ng-hide="currentPage === 5">click to customize</p>
          <img class="point" src="./images/point.png" alt="" ng-hide="currentPage === 5">
        </div>
      </div>

      <!--        PAGEBODY         -->
      <div class="pageBody hidden flexRow">

        <!--        SIDEBAR         -->
        <div class="sideBar flexRow" ng-hide="currentPage === 5 || currentPage === 'loading'">
          <div class="sideBarLiner">
            <div class="sideBarOption flexCol cart">
              <div class="cartItemHeading flexRow">
                <h1>CART</h1>
                <img src="./images/shoppingBag.png" alt="">
                <div class="itemNumber flexRow"><p>{{cartQuantity}}</p></div>
              </div>

              <!--        CART SECTION         -->
              <div class="cartItemsHolder">
                <div id={{$index}} class="cartItem flexRow" ng-repeat="shoppingCartItem in shoppingCartItems track by $index">
                  <img src={{shoppingCartItem.img}} alt="">
                  <div class="cartItemDescriptionSection">
                    <h2 class="cartItemDescription">{{shoppingCartItem.name}}</h2>
                    <h2 class="cartItemPrice"><span>{{shoppingCartItem.price}}</span><span ng-if="shoppingCartItem.quantity > 1"> x {{shoppingCartItem.quantity}}</span></h2>
                  </div>
                  <div data-cartId={{$index}} class="xBtn pointer" ng-click='removeItemFromShoppingCart(shoppingCartItem)'><p>x</p></div>
                </div>
              </div>

            </div>

            <!--        CATEGORIES         -->
            <!-- <div class="sideBarOption flexCol categories" ng-if="productPageIndexes.includes(currentPage) || currentPage === 'loading'">
              <h1>CATEGORIES</h1>

              <div class="categoriesFilter flexRow" ng-repeat="category in filters.categories track by $index">
                <div data-category={{$index}} class="checkBox pointer" ng-click='checkboxClick($event, $index)'></div>
                <div class="filterText">{{category}}</div>
              </div>

            </div> -->

            <!--        COLORS         -->
            <!-- <div class="sideBarOption flexCol colors" ng-if="currentPage === 'brands' || currentPage === brittanyPageNavOptionName.toLowerCase() || currentPage === brandiPageNavOptionName.toLowerCase() || currentPage === 'loading'">
              <h1>COLORS</h1>
              <div class="colorSection flexRow">

                <div class="colorStrip flexRow" ng-repeat="color in filters.colors track by $index">
                  <div data-color={{$index}} class="colorCircle pointer" style="background-color: {{color.hex}}" ng-click='colorClick($event, $index)'></div>
                  <div data-color={{$index}} class="filterText pointer" ng-click='colorClick($event, $index)'>{{color.name}}</div>
                </div>

              </div>
            </div> -->

            <!--        SIZES         -->
            <!-- <div class="sideBarOption flexCol sizes" ng-if="currentPage === 'brands'">
              <h1>SIZES</h1>
              <div class="sideBarSection flexRow">

                <div class="sideBarStrip flexRow" ng-repeat="size in filters.sizes">
                  <div data-size={{$index}} class="checkBox pointer" ng-click='checkboxClick($event, $index)'></div>
                  <div class="filterText">{{size}}</div>
                </div>

              </div>
            </div> -->

          </div>
        </div>

        <!--        ITEM SECTION         -->
        <div class="itemSection flexRow" ng-if="productPageIndexes.includes(currentPage)">
          <div class="itemTopBar flexRow">
            <p class="viewLabel">view: </p>
            <div class="toggleViewBtn flexRow" ng-click='toggleView()'>
              <div class="largeViewBtn flexRow" ng-if='!largeView'>
                <div class="lvBox"></div>
                <div class="lvBox"></div>
                <div class="lvBox"></div>
                <div class="lvBox"></div>
              </div>
              <div class="smallViewBtn flexRow" ng-if='largeView'>
                <div class="svBox"></div>
                <div class="svBox"></div>
              </div>
            </div>
          </div>
          <div data={{$index}} class="productContainer flexCol" ng-repeat="product in pageProducts track by $index" ng-mouseover='showProductOptions($index)' ng-mouseleave='hideProductOptions($index)'>

            <!-- PRODUCT IMAGE BOX -->
            <div data={{$index}} class="productImgHolder">
              <img src="{{product.img}}" alt="">
            </div>

            <!-- TO CART IMG -->
            <div data={{$index}} class="cartImgHolder rotate90">
              <img src="{{product.img}}" alt="">
            </div>

            <!-- PRODUCT DESCRIPTION BOX -->
            <div data={{$index}} class="productDescriptionHolder flexRow">
              <div class="productDescriptionSide"></div>
              <div class="productDescriptionSide flexCol">
                <div class="productDescriptionTitle productDescriptionSideChild flexRow">
                  <h2 class="pdtitle">{{product.name}}</h2>
                </div>
                <div class="productDescriptionPrice productDescriptionSideChild flexRow">
                  <h2 class="pdprice">{{product.price}}</h2>
                </div>
                <div class="productDescriptionDesciption productDescriptionSideChild flexRow">
                  <h2 class="pddesciption">{{product.desciption}}</h2>
                </div>
                <div class="productDescriptionGalleryButton productDescriptionSideChild flexRow">
                  <div data={{$index}} class="productDescriptionButton flexRow pointer" ng-click="closeView(product, $event, $index)">
                    <p>VIEV GALLERY</p>
                  </div>
                </div>
                <div class="productDescriptionCartButton productDescriptionSideChild flexRow">
                  <div data={{$index}} class="productDescriptionButton flexRow pointer" ng-click='addItemToCart($index, product)'>
                    <p>TO CART</p>
                  </div>
                </div>
              </div>
            </div>

            <!-- PRODUCT HOVER DESCRIPTION BOX -->
            <div data={{$index}} class="hoverDescription flexRow">
              <div class="hoverDescriptionText">
                <div class="hoverDescriptionTextTop flexRow">
                  <p>{{product.name}}</p>
                  <p>{{product.price}}</p>
                </div>
                <div class="hoverDescriptionTextBottom">
                  <p>{{product.details}}</p>
                </div>
              </div>
            </div>

            <!-- PRODUCT BUTTONS BOX -->
            <div data={{$index}} class="hoverButtons behindImg">
              <div class="hoverBtnHolder flexRow">
                <div data={{$index}} class="hoverBtn flexRow pointer" ng-click="closeView(product, $event, $index)">
                  <p>VIEV GALLERY</p>
                </div>
              </div>
              <div class="hoverBtnHolder flexRow">
                <div data={{$index}} class="hoverBtn flexRow pointer" ng-click='addItemToCart($index, product)'>
                  <p>TO CART</p>
                </div>
              </div>
            </div>

            <!-- PRODUCT HOVER CLEAR BOX -->
            <div data={{$index}} class="hoverClearBox behindImg">

            </div>

          </div>

        </div>


        <!--       DESIGNERS         -->
        <div class="itemSection flexRow"  ng-if="currentPage === 3">
          <h1>DESIGNERS</h1>
        </div>

        <!--       CONTACT US        -->
        <div class="itemSection flexRow"  ng-if="currentPage === 4">
          <h1>CONTACT US</h1>
        </div>

        <!--       SHOPPING CART        -->
        <div class="itemSection checkoutSection flexRow"  ng-if="currentPage === 5">
          <div class="cartBagContent">

            <div class="reviewText flexRow">
              <p>REVIEW ITEMS IN CART</p>
              <p id="total">${{checkoutItemsTotal}}</p>
            </div>

            <div class="reviewItems">
              <div class="itemToReview flexRow" ng-repeat='shoppingCartItem in shoppingCartItems'>
                <div class="reviewImg flexRow">
                  <img src={{shoppingCartItem.img}} alt="">
                </div>
                <div class="reviewPrice flexRow">
                  <p>{{shoppingCartItem.price}}</p>
                </div>
                <div class="reviewQuantity flexCol">
                  <div class="quantityNumber flexRow flexRow">
                    <p ng-if="shoppingCartItem.quantity">{{shoppingCartItem.quantity}}</p>
                    <p ng-if="!shoppingCartItem.quantity">1</p>
                  </div>
                  <div class="quantityChange flexRow">
                    <div class="increment flexRow pointer" ng-click="incrementCartItem(shoppingCartItem)">
                      <p>+</p>
                    </div>
                    <div class="decrement flexRow pointer" ng-click="decrementCartItem(shoppingCartItem)">
                      <p>-</p>
                    </div>
                  </div>
                </div>
              </div>

            </div>
          </div>
          <div class="personalInformationForm flexCol">
            <div class="formLiner flexCol">
              <div class="checkoutFormMessage">
                <p>Thanks For Registering! Try Signing in</p>
              </div>
              <form class="signUpForm flexCol" action="/register" method="post">
                <input class="cartForms cartFullname" type="text" name="firstname" value="" placeholder="full name">
                <input class="cartForms cartAddress" type="text" name="username" value="" placeholder="address">
                <input class="cartForms cartCity" type="text" name="password" value="" placeholder="city">
                <input class="cartForms cartState" type="text" name="username" value="" placeholder="state">
                <input class="cartForms cartZipcode" type="text" name="username" value="" placeholder="zipcode">
                <input class="cartForms cartEmailAdress" type="text" name="password" value="" placeholder="email adress">
              </form>
              <div data="signUpSubmit" class="submit flexRow pointer" ng-click='proceedToCheckout()'>
                <p>PROCEED TO CHECKOUT</p>
              </div>
            </div>
          </div>
          <div class="cardCheckOut flexRow">
            <div class="">
              <script src="https://js.stripe.com/v3/"></script>

              <form class="cartForm" action="/charge" method="post" id="payment-form">
                <div class="form-row">
                  <div id="card-element">
                    <!-- a Stripe Element will be inserted here. -->
                  </div>

                  <!-- Used to display form errors -->
                  <div id="card-errors" role="alert"></div>
                </div>

                <button class="shoppingCartBtn flexRow pointer"><p>SUBMIT PAYMENT</p></button>
              </form>
            </div>
          </div>
        </div>

        <!--       LOADING SCREEN     -->
        <div class="itemSection flexRow"  ng-if="currentPage === 'loading'">
          <h1>loading...</h1>
        </div>

      </div>


    </div>

    <!--        GALLERY         -->
    <div class="shoppingCartBigView flexRow">
      <div class="shadedArea" ng-click="hideBigView()"></div>
      <div class="bigView flexRow">
        <div class="galleryImgSection flexCol">
          <div class="itemGallery flexRow">
            <div class="bigViewItemSection">
              <img src={{currentCloseView}} alt="">
            </div>
            <div class="smallViewItemSection flexCol">
              <div class="smallViemItem pointer" ng-click='changeCloseViewItem("smallViewImgOne")'>
                <img src={{smallViewImgOne}} alt="">
              </div>
              <div class="smallViemItem pointer" ng-click='changeCloseViewItem("smallViewImgTwo")'>
                <img src={{smallViewImgTwo}} alt="">
              </div>
              <div class="smallViemItem pointer" ng-click='changeCloseViewItem("smallViewImgThree")'>
                <img src={{smallViewImgThree}} alt="">
              </div>
            </div>
          </div>
        </div>
        <div class="galleryOptions flexCol">
          <div class="xBtnGalleryView flexRow pointer" ng-click="hideBigView()"><p>&#xd7;</p></div>
          <div class="addCartBtnGalleryView flexRow pointer">
            <img src="./images/shoppingBag.png" alt="" ng-click="moveToCart(null, null, eventObj)">
          </div>
        </div>
      </div>
    </div>

    <div class="shoppingCart flexRow" ng-if="currentPage === 'shoppingCart'">

      <div class="shoppingCartContainer flexRow">
        <div class="shoppingCartLeftSide flexRow">
          <div class="">
            <script src="https://js.stripe.com/v3/"></script>

            <form class="cartForm" action="/charge" method="post" id="payment-form">
              <div class="form-row">
                <div id="card-element">
                  <!-- a Stripe Element will be inserted here. -->
                </div>

                <!-- Used to display form errors -->
                <div id="card-errors" role="alert"></div>
              </div>

              <button class="shoppingCartBtn flexRow pointer"><p>Submit Payment</p></button>
            </form>
          </div>
        </div>

        <div class="shoppingCartRightSide flexCol none">
          <div id='creditCard' class='flexRow'>
            <div id='creditCardTop' class='creditCardComponents'>
              <p>Bank</p>
            </div>
            <div id='creditCardBottom' class='creditCardComponents flexRow'>
              <div id='cardNumbers' class='flexRow'>
                <span>4242</span>
                <span>4242</span>
                <span>4242</span>
                <span>4242</span>
              </div>
              <div id='creditCardBottomInfo' class='flexRow'>
                <p class='creditCardName'>my name</p>
                <p>02/22</p>
              </div>
            </div>
          </div>
          <div id='shadow'></div>
        </div>
      </div>

    </div>

    <script type="text/javascript">
      (() => {
          // Create a Stripe client
          var stripe = Stripe('pk_test_fjLtmEb3KeopnnS7MoQ7ERMF');

          // Create an instance of Elements
          var elements = stripe.elements();

          // Custom styling can be passed to options when creating an Element.
          // (Note that this demo uses a wider set of styles than the guide below.)
          var style = {
            base: {
              color: '#32325d',
              lineHeight: '18px',
              fontFamily: '"Helvetica Neue", Helvetica, sans-serif',
              fontSmoothing: 'antialiased',
              fontSize: '16px',
              '::placeholder': {
                color: '#aab7c4'
              }
            },
            invalid: {
              color: '#fa755a',
              iconColor: '#fa755a'
            }
          };

          // Create an instance of the card Element
          var card = elements.create('card', {style: style});

          // Add an instance of the card Element into the `card-element` <div>
          card.mount('#card-element');

          // Handle real-time validation errors from the card Element.
          card.addEventListener('change', function(event) {
            var displayError = document.getElementById('card-errors');
            if (event.error) {
              displayError.textContent = event.error.message;
            } else {
              displayError.textContent = '';
            }
          });

          // Handle form submission
          var form = document.getElementById('payment-form');
          form.addEventListener('submit', function(event) {
            event.preventDefault();

            stripe.createToken(card).then(function(result) {
              if (result.error) {
                // Inform the user if there was an error
                var errorElement = document.getElementById('card-errors');
                errorElement.textContent = result.error.message;
              } else {
                // Send the token to your server
                stripeTokenHandler(result.token);
              }
            });
          });

          function stripeTokenHandler(token) {
            // Insert the token ID into the form so it gets submitted to the server
            var form = document.getElementById('payment-form');
            var hiddenInput = document.createElement('input');
            hiddenInput.setAttribute('type', 'hidden');
            hiddenInput.setAttribute('name', 'stripeToken');
            hiddenInput.setAttribute('value', token.id);
            form.appendChild(hiddenInput);

            // Submit the form
            form.submit();
          }
        })()
    </script>

    <style type="text/css">
      ::-webkit-scrollbar-thumb,
      .itemNumber,
      .optionsBgColor { background-color: {{colors[currentCompany].themeColor}}; }

      .landingPageColorOne { background-color: {{colors.landingPage.themeColorOne}}; }

      .landingPageColorTwo { background-color: {{colors.landingPage.themeColorTwo}};}

      .itemPriceSection,
      .cartItemPrice,
      .xBtn p:hover,
      .imgHolder p ,
      .navHighlight { color: {{colors[currentCompany].themeColor}}; }

      .navigationBar { border-bottom: 0.1em solid {{colors[currentCompany].borderThemeColor}}; }

      .sideBar { border-right: 0.1em solid {{colors[currentCompany].borderThemeColor}}; }

      .checkBoxChecked {
        background-color: {{colors[currentCompany].themeColor}};
        border-color: {{colors[currentCompany].themeColor}};
      }

      .colorCircleSelected { border: 4px solid #777; }

      .lpBtn:hover { background-color: {{colors[currentCompany].landingPageBtnHoverColor}}; }
      .lpBtn { background-color: {{colors[currentCompany].landingPageBtnColor}}; }
    </style>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js"></script>
    <script type="text/javascript" src="./js/databaseBrittany.js"></script>
    <script type="text/javascript" src="./js/main.js"></script>
  </body>
</html>
